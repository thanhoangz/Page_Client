<section class="content" style="margin-top: 1%">
  <div class="container-fluid">
    <mat-card>
      <mat-card-header class="card-container">
        <mat-card-title>Quá trình học tập</mat-card-title>
      </mat-card-header>
    </mat-card>
    <mat-card style="margin-top: 0.5%; ">
      <div class="row">
        <!--Lịch sử đóng tiền-->
        <mat-card-content>
          <div class="col-md-12" style="margin-top: 20px;"></div>
          <mat-card-content>
            <div class="col-md-12" style="margin-top: 20px;"></div>
            <mat-accordion>
              <mat-expansion-panel *ngFor="let item of receipts" (opened)="panelOpenState = true"
                (closed)="panelOpenState = false" style="margin-top: 10px;">
                <mat-expansion-panel-header (click)="getReceiptDetailsByReceiptId(item.id)"
                  style="background-color: lightgray;">

                  <mat-panel-title>
                    <b>Ngày thu : </b> {{item.collectionDate | date: 'dd-MM-yyyy'}}
                  </mat-panel-title>
                  <mat-panel-title>
                    <b>Loại thu : </b> {{item.receiptTypeName}}
                  </mat-panel-title>
                  <mat-panel-title>
                    <b>Tổng tiền : </b> {{item.totalAmount}} VNĐ
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <p>Chi tiết phiếu thu.</p>
                <table mat-table [dataSource]="dataSourceReceiptsDetail" style="width: 100%;">

                  <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%;" class="tencot">
                      STT
                    </th>
                    <td mat-cell *matCellDef="let element; let i=index"> {{i+1}} </td>
                  </ng-container>

                  <ng-container matColumnDef="languageClassName">
                    <th mat-header-cell *matHeaderCellDef style="width: 20%; " class="tencot">
                      Lớp
                      học </th>
                    <td mat-cell *matCellDef="let element">{{element.languageClassName}}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="month">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%; " class="tencot">
                      Tháng
                      thu</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.month + "/" + element.year }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="tuition">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%;" class="tencot">
                      Học
                      phí</th>
                    <td mat-cell *matCellDef="let element"> {{element.tuition}} </td>
                  </ng-container>

                  <ng-container matColumnDef="fundMoney">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%;" class="tencot">
                      Tiền
                      quỹ</th>
                    <td mat-cell *matCellDef="let element"> {{element.fundMoney}} </td>
                  </ng-container>

                  <ng-container matColumnDef="infrastructureMoney">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%;" class="tencot">
                      Tiền
                      CSVC</th>
                    <td mat-cell *matCellDef="let element"> {{element.infrastructureMoney}}</td>
                  </ng-container>

                  <ng-container matColumnDef="otherMoney">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%;" class="tencot">
                      Tiền
                      khác</th>
                    <td mat-cell *matCellDef="let element"> {{element.otherMoney}}</td>
                  </ng-container>

                  <ng-container matColumnDef="totalMoney">
                    <th mat-header-cell *matHeaderCellDef style="width: 10%;" class="tencot">
                      Tổng
                      tiền</th>
                    <td mat-cell *matCellDef="let element"> {{element.totalMoney}}</td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumnsReceiptsDetail"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumnsReceiptsDetail;">
                  </tr>
                </table>
              </mat-expansion-panel>
            </mat-accordion>
          </mat-card-content>
        </mat-card-content>
      </div>
    </mat-card>
  </div>
</section>